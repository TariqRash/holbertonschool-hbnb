<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="600" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">HBnB Database Entity-Relationship Diagram</text>
  
  <!-- USERS Entity -->
  <g id="users">
    <rect x="50" y="100" width="250" height="280" fill="#E8F4F8" stroke="#2C5F7C" stroke-width="2"/>
    <rect x="50" y="100" width="250" height="40" fill="#2C5F7C"/>
    <text x="175" y="125" font-size="18" font-weight="bold" text-anchor="middle" fill="white">USERS</text>
    <text x="60" y="160" font-size="12" fill="#333">id: CHAR(36) PK</text>
    <text x="60" y="180" font-size="12" fill="#333">first_name: VARCHAR(255)</text>
    <text x="60" y="200" font-size="12" fill="#333">last_name: VARCHAR(255)</text>
    <text x="60" y="220" font-size="12" fill="#333">email: VARCHAR(255) UNIQUE</text>
    <text x="60" y="240" font-size="12" fill="#333">password: VARCHAR(255)</text>
    <text x="60" y="260" font-size="12" fill="#333">is_admin: BOOLEAN</text>
    <text x="60" y="280" font-size="12" fill="#333">created_at: DATETIME</text>
    <text x="60" y="300" font-size="12" fill="#333">updated_at: DATETIME</text>
  </g>
  
  <!-- PLACES Entity -->
  <g id="places">
    <rect x="450" y="100" width="300" height="320" fill="#FFF4E6" stroke="#D68910" stroke-width="2"/>
    <rect x="450" y="100" width="300" height="40" fill="#D68910"/>
    <text x="600" y="125" font-size="18" font-weight="bold" text-anchor="middle" fill="white">PLACES</text>
    <text x="460" y="160" font-size="12" fill="#333">id: CHAR(36) PK</text>
    <text x="460" y="180" font-size="12" fill="#333">title: VARCHAR(255)</text>
    <text x="460" y="200" font-size="12" fill="#333">description: TEXT</text>
    <text x="460" y="220" font-size="12" fill="#333">price: DECIMAL(10,2)</text>
    <text x="460" y="240" font-size="12" fill="#333">latitude: FLOAT</text>
    <text x="460" y="260" font-size="12" fill="#333">longitude: FLOAT</text>
    <text x="460" y="280" font-size="12" fill="#333">owner_id: CHAR(36) FK</text>
    <text x="460" y="300" font-size="12" fill="#333">created_at: DATETIME</text>
    <text x="460" y="320" font-size="12" fill="#333">updated_at: DATETIME</text>
  </g>
  
  <!-- REVIEWS Entity -->
  <g id="reviews">
    <rect x="850" y="100" width="300" height="280" fill="#F4ECF7" stroke="#7D3C98" stroke-width="2"/>
    <rect x="850" y="100" width="300" height="40" fill="#7D3C98"/>
    <text x="1000" y="125" font-size="18" font-weight="bold" text-anchor="middle" fill="white">REVIEWS</text>
    <text x="860" y="160" font-size="12" fill="#333">id: CHAR(36) PK</text>
    <text x="860" y="180" font-size="12" fill="#333">text: TEXT</text>
    <text x="860" y="200" font-size="12" fill="#333">rating: INT (1-5)</text>
    <text x="860" y="220" font-size="12" fill="#333">user_id: CHAR(36) FK</text>
    <text x="860" y="240" font-size="12" fill="#333">place_id: CHAR(36) FK</text>
    <text x="860" y="260" font-size="12" fill="#333">created_at: DATETIME</text>
    <text x="860" y="280" font-size="12" fill="#333">updated_at: DATETIME</text>
    <text x="860" y="300" font-size="11" fill="#666">UNIQUE(user_id, place_id)</text>
  </g>
  
  <!-- AMENITIES Entity -->
  <g id="amenities">
    <rect x="450" y="500" width="300" height="200" fill="#E8F8F5" stroke="#148F77" stroke-width="2"/>
    <rect x="450" y="500" width="300" height="40" fill="#148F77"/>
    <text x="600" y="525" font-size="18" font-weight="bold" text-anchor="middle" fill="white">AMENITIES</text>
    <text x="460" y="560" font-size="12" fill="#333">id: CHAR(36) PK</text>
    <text x="460" y="580" font-size="12" fill="#333">name: VARCHAR(255) UNIQUE</text>
    <text x="460" y="600" font-size="12" fill="#333">created_at: DATETIME</text>
    <text x="460" y="620" font-size="12" fill="#333">updated_at: DATETIME</text>
  </g>
  
  <!-- PLACE_AMENITY Junction Table -->
  <g id="place_amenity">
    <rect x="850" y="500" width="250" height="140" fill="#FEF5E7" stroke="#CA6F1E" stroke-width="2"/>
    <rect x="850" y="500" width="250" height="40" fill="#CA6F1E"/>
    <text x="975" y="525" font-size="18" font-weight="bold" text-anchor="middle" fill="white">PLACE_AMENITY</text>
    <text x="860" y="560" font-size="12" fill="#333">place_id: CHAR(36) PK,FK</text>
    <text x="860" y="580" font-size="12" fill="#333">amenity_id: CHAR(36) PK,FK</text>
    <text x="860" y="600" font-size="11" fill="#666">Composite Primary Key</text>
  </g>
  
  <!-- Relationships -->
  
  <!-- User to Places (1:N) -->
  <line x1="300" y1="240" x2="450" y2="260" stroke="#2C5F7C" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="375" y="235" font-size="11" fill="#2C5F7C" font-weight="bold">1:N owns</text>
  
  <!-- User to Reviews (1:N) -->
  <line x1="300" y1="240" x2="850" y2="240" stroke="#7D3C98" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="575" y="235" font-size="11" fill="#7D3C98" font-weight="bold">1:N writes</text>
  
  <!-- Place to Reviews (1:N) -->
  <line x1="750" y1="240" x2="850" y2="240" stroke="#D68910" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="800" y="235" font-size="11" fill="#D68910" font-weight="bold">1:N has</text>
  
  <!-- Place to Place_Amenity -->
  <line x1="700" y1="420" x2="900" y2="500" stroke="#D68910" stroke-width="2"/>
  <text x="800" y="450" font-size="11" fill="#D68910" font-weight="bold">1:N</text>
  
  <!-- Amenity to Place_Amenity -->
  <line x1="750" y1="600" x2="850" y2="570" stroke="#148F77" stroke-width="2"/>
  <text x="800" y="585" font-size="11" fill="#148F77" font-weight="bold">1:N</text>
  
  <!-- Many-to-Many indicator -->
  <text x="600" y="470" font-size="13" fill="#CA6F1E" font-weight="bold">M:N (Many-to-Many via Junction Table)</text>
  <line x1="500" y1="475" x2="700" y2="475" stroke="#CA6F1E" stroke-width="1"/>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="500" width="350" height="200" fill="#F8F9F9" stroke="#AAB7B8" stroke-width="1"/>
    <text x="225" y="525" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Legend</text>
    
    <text x="60" y="550" font-size="12" fill="#333" font-weight="bold">Relationships:</text>
    <text x="60" y="570" font-size="11" fill="#333">• 1:N = One-to-Many</text>
    <text x="60" y="590" font-size="11" fill="#333">• M:N = Many-to-Many</text>
    
    <text x="60" y="620" font-size="12" fill="#333" font-weight="bold">Constraints:</text>
    <text x="60" y="640" font-size="11" fill="#333">• PK = Primary Key</text>
    <text x="60" y="660" font-size="11" fill="#333">• FK = Foreign Key</text>
    <text x="60" y="680" font-size="11" fill="#333">• CASCADE DELETE on all FKs</text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Footer -->
  <text x="600" y="780" font-size="12" text-anchor="middle" fill="#666">Generated for HBnB Part 3 - Database Schema Visualization</text>
</svg>
